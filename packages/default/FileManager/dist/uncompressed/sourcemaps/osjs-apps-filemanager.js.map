{"version":3,"sources":["osjs-apps-filemanager.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../osjs-apps-filemanager.js","sourcesContent":["define('osjs-apps-filemanager/locales',[],function () {\n    'use strict';\n    return {\n        bg_BG: {\n            'Copying file...': 'Копиране на файл...',\n            'Copying **{0}** to **{1}**': 'Копиране **{0}** към **{1}**',\n            'Refreshing...': 'Опресняване...',\n            'Loading...': 'Зареждане...',\n            'Create a new directory in **{0}**': 'Създаване на нова директория в **{0}**',\n            'Rename **{0}**': 'преименуване на **{0}**',\n            'Delete **{0}** ?': 'Изтриване на **{0}**?'\n        },\n        de_DE: {\n            'Copying file...': 'Kopiere Datei...',\n            'Copying **{0}** to **{1}**': 'Kopiere **{0}** nach **{1}**',\n            'Refreshing...': 'Aktualisiere...',\n            'Loading...': 'Lade...',\n            'Create a new directory in **{0}**': 'Erstelle ein neues Verzeichnis in **{0}**',\n            'Rename **{0}**': '**{0}** umbenennen',\n            'Delete **{0}** ?': '**{0}** löschen?'\n        },\n        fr_FR: {\n            'Copying file...': 'Copie de fichier...',\n            'Copying **{0}** to **{1}**': 'Copie de **{0}** à **{1}**',\n            'Refreshing...': 'Rafraichissement...',\n            'Loading...': 'Chargement...',\n            'Create a new file in **{0}**': 'Créer un nouveau fichier dans **{0}**',\n            'Create a new directory in **{0}**': 'Créer un nouveau dossier dans **{0}**',\n            'Rename **{0}**': 'Renommer **{0}**',\n            'Delete **{0}** ?': 'Supprimer **{0}** ?',\n            'Selected {0} files, {1} dirs, {2}': '{0} fichier(s) selectionné(s), {1} dossier(s), {2}',\n            'Showing {0} files ({1} hidden), {2} dirs, {3}': '{0} fichier(s) affiché(s) ({1} caché(s)), {2} dossier(s), {3}'\n        },\n        ar_DZ: {\n            'Copying file...': 'جاري نسخ الملف...',\n            'Copying **{0}** to **{1}**': 'نسخ من **{0}** إلى **{1}**',\n            'Refreshing...': 'جاري التحديث...',\n            'Loading...': 'جاري التحميل...',\n            'Create a new file in **{0}**': 'إنشاء ملف جديد في **{0}**',\n            'Create a new directory in **{0}**': 'إنشاء مجلد جديد في **{0}**',\n            'Rename **{0}**': 'إعادة التسمية **{0}**',\n            'Delete **{0}** ?': 'حذف **{0}** ?',\n            'Selected {0} files, {1} dirs, {2}': '{0} ملف مختار, {1} مجلد, {2}',\n            'Showing {0} files ({1} hidden), {2} dirs, {3}': '{0} ملف مرئي ({1} مخفي(s)), {2} مجلد, {3}'\n        },\n        it_IT: {\n            'Copying file...': 'Copiamento file...',\n            'Copying **{0}** to **{1}**': 'Copia **{0}** in **{1}**',\n            'Refreshing...': 'Ricarica...',\n            'Loading...': 'Caricamento...',\n            'Create a new file in **{0}**': 'Creazione nuovo file in **{0}**',\n            'Create a new directory in **{0}**': 'Creazione nuova cartella in **{0}**',\n            'Rename **{0}**': 'Rinomina **{0}**',\n            'Delete **{0}** ?': 'Cancellare **{0}** ?',\n            'Selected {0} files, {1} dirs, {2}': '{0} file selezionati, {1} cartelle, {2}',\n            'Showing {0} files ({1} hidden), {2} dirs, {3}': 'Mostrando {0} file(s) ({1} nascosti), {2} cartelle, {3}'\n        },\n        ko_KR: {\n            'Copying file...': '파일 복사...',\n            'Copying **{0}** to **{1}**': '**{0}**를 **{1}**으로 복사',\n            'Refreshing...': '새로고치는 중...',\n            'Loading...': '기다려주세요...',\n            'Create a new file in **{0}**': '**{0}**에 새 파일 만들기',\n            'Create a new directory in **{0}**': '**{0}**에 새 디렉토리 만들기',\n            'Rename **{0}**': '**{0}**의 이름 바꾸기',\n            'Delete **{0}** ?': '**{0}**을 삭제하시겠습니까?',\n            'Selected {0} files, {1} dirs, {2}': '{0} 개의 파일, {1} 개의 디렉토리가 선택됨, {2}',\n            'Showing {0} files ({1} hidden), {2} dirs, {3}': '{0} 개의 파일({1} 개의 숨긴 파일), {2} 개의 디렉토리가 존재, {3}'\n        },\n        nl_NL: {\n            'Copying file...': 'Bestand kopieren...',\n            'Copying **{0}** to **{1}**': 'Kopieer **{0}** naar **{1}**',\n            'Refreshing...': 'Vernieuwen...',\n            'Loading...': 'Laden...',\n            'Create a new directory in **{0}**': 'Maak een nieuwe map in **{0}**',\n            'Rename **{0}**': 'Hernoem **{0}**',\n            'Delete **{0}** ?': '**{0}** verwijderen?'\n        },\n        no_NO: {\n            'Copying file...': 'Kopierer fil...',\n            'Copying **{0}** to **{1}**': 'Kopierer **{0}** to **{1}**',\n            'Refreshing...': 'Gjenoppfrisker...',\n            'Loading...': 'Laster...',\n            'Create a new file in **{0}**': 'Opprett ny fil i **{0}**',\n            'Create a new directory in **{0}**': 'Opprett ny mappe i **{0}**',\n            'Rename **{0}**': 'Navngi **{0}**',\n            'Delete **{0}** ?': 'Slette **{0}** ?'\n        },\n        pl_PL: {\n            'Copying file...': 'Kopiowanie pliku...',\n            'Copying **{0}** to **{1}**': 'Kopiowanie **{0}** do **{1}**',\n            'Refreshing...': 'Odświeżanie...',\n            'Loading...': 'Ładowanie...',\n            'Create a new file in **{0}**': 'Utwórz nowy plik w **{0}**',\n            'Create a new directory in **{0}**': 'Utwórz nowy folder w **{0}**',\n            'Rename **{0}**': 'Zmień nazwę **{0}**',\n            'Delete **{0}** ?': 'Usunąć **{0}** ?',\n            'Selected {0} files, {1} dirs, {2}': 'Wybrane pliki: {0}, foldery: {1}, {2}',\n            'Showing {0} files ({1} hidden), {2} dirs, {3}': 'Pokazywane pliki: {0} /(ukryte: {1}, foldery: {2}, {3}'\n        },\n        ru_RU: {\n            'Copying file...': 'Копирование файла...',\n            'Copying **{0}** to **{1}**': 'Копирование **{0}** в **{1}**',\n            'Refreshing...': 'Обновление...',\n            'Loading...': 'Загрузка...',\n            'Create a new directory in **{0}**': 'Создать новый каталог в **{0}**',\n            'Rename **{0}**': 'Переименовать **{0}**',\n            'Delete **{0}** ?': 'Удалить **{0}** ?'\n        },\n        sk_SK: {\n            'Copying file...': 'Kopírujem súbor...',\n            'Copying **{0}** to **{1}**': 'Kopírujem **{0}** do **{1}**',\n            'Refreshing...': 'Obnovujem...',\n            'Loading...': 'Nahrávam...',\n            'Create a new file in **{0}**': 'Vytvor nový súbor v **{0}**',\n            'Create a new directory in **{0}**': 'Vytvor nový adresár v **{0}**',\n            'Rename **{0}**': 'Premenuj **{0}**',\n            'Delete **{0}** ?': 'Zmazať **{0}** ?'\n        },\n        tr_TR: {\n            'Copying file...': 'kopyalanıyor...',\n            'Copying **{0}** to **{1}**': '**{0}** dosyası  **{1}**e kopyalanıyor',\n            'Refreshing...': 'yenileniyor...',\n            'Loading...': 'yükleniyor...',\n            'Create a new directory in **{0}**': ' **{0}** içinde yeni bir klasör aç',\n            'Rename **{0}**': 'yeniden adlandır **{0}**',\n            'Delete **{0}** ?': 'sil **{0}**?'\n        },\n        vi_VN: {\n            'Copying file...': 'Đang sao chép...',\n            'Copying **{0}** to **{1}**': 'Đang chép **{0}** tới **{1}**',\n            'Refreshing...': 'Đang làm mới...',\n            'Loading...': 'Đang tải...',\n            'Create a new file in **{0}**': 'Tạo một tập tin mới trong **{0}**',\n            'Create a new directory in **{0}**': 'Tạo một thư mục mới trong **{0}**',\n            'Rename **{0}**': 'Đổi tên **{0}**',\n            'Delete **{0}** ?': 'Xóa **{0}**?',\n            'Selected {0} files, {1} dirs, {2}': 'Đã chọn {0} tập tin, {1} thư mục, {2}',\n            'Showing {0} files ({1} hidden), {2} dirs, {3}': 'Đang hiển thị {0} tập tin({1} bị ẩn), {2} thư mục, {3}'\n        }\n    };\n});\ndefine('osjs-apps-filemanager/scheme.html',[], function() { return \"<application-window data-id=\\\"FileManagerWindow\\\">\\r\\n\\r\\n  <gui-vbox>\\r\\n    <!-- MENU BAR -->\\r\\n    <gui-vbox-container data-grow=\\\"0\\\" data-shrink=\\\"1\\\" data-basis=\\\"auto\\\">\\r\\n      <gui-menu-bar>\\r\\n\\r\\n        <gui-menu-bar-entry data-label=\\\"LBL_FILE\\\">\\r\\n          <gui-menu data-id=\\\"SubmenuFile\\\">\\r\\n            <gui-menu-entry data-id=\\\"MenuCreate\\\" data-label=\\\"LBL_CREATE\\\">\\r\\n              <gui-menu data-id=\\\"SubmenuCreate\\\">\\r\\n                <gui-menu-entry data-id=\\\"MenuCreateDirectory\\\" data-label=\\\"LBL_DIRECTORY\\\"></gui-menu-entry>\\r\\n                <gui-menu-entry data-id=\\\"MenuCreateFile\\\" data-label=\\\"LBL_FILE\\\"></gui-menu-entry>\\r\\n              </gui-menu>\\r\\n            </gui-menu-entry>\\r\\n\\r\\n            <gui-menu-entry data-id=\\\"MenuUpload\\\" data-label=\\\"LBL_UPLOAD\\\"></gui-menu-entry>\\r\\n            <gui-menu-entry data-id=\\\"MenuClose\\\" data-label=\\\"LBL_CLOSE\\\"></gui-menu-entry>\\r\\n          </gui-menu>\\r\\n        </gui-menu-bar-entry>\\r\\n\\r\\n        <gui-menu-bar-entry data-label=\\\"LBL_EDIT\\\">\\r\\n          <gui-menu data-id=\\\"SubmenuEdit\\\">\\r\\n            <gui-menu-entry data-id=\\\"MenuRename\\\" data-label=\\\"LBL_RENAME\\\"></gui-menu-entry>\\r\\n            <gui-menu-entry data-id=\\\"MenuDelete\\\" data-label=\\\"LBL_DELETE\\\"></gui-menu-entry>\\r\\n            <gui-menu-entry data-id=\\\"MenuInfo\\\" data-label=\\\"LBL_INFORMATION\\\"></gui-menu-entry>\\r\\n            <gui-menu-entry data-id=\\\"MenuOpen\\\" data-label=\\\"LBL_OPENWITH\\\"></gui-menu-entry>\\r\\n            <gui-menu-entry data-id=\\\"MenuDownload\\\" data-label=\\\"LBL_DOWNLOAD_COMP\\\"></gui-menu-entry>\\r\\n          </gui-menu>\\r\\n        </gui-menu-bar-entry>\\r\\n\\r\\n        <gui-menu-bar-entry data-label=\\\"LBL_VIEW\\\">\\r\\n          <gui-menu data-id=\\\"SubmenuView\\\">\\r\\n            <gui-menu-entry data-id=\\\"MenuRefresh\\\" data-label=\\\"LBL_REFRESH\\\"></gui-menu-entry>\\r\\n            <gui-menu-entry data-id=\\\"MenuShowSidebar\\\" data-label=\\\"LBL_SHOW_SIDEBAR\\\" data-type=\\\"checkbox\\\"></gui-menu-entry>\\r\\n            <gui-menu-entry data-id=\\\"MenuShowNavigation\\\" data-label=\\\"LBL_SHOW_NAVIGATION\\\" data-type=\\\"checkbox\\\"></gui-menu-entry>\\r\\n            <gui-menu-entry data-id=\\\"MenuShowHidden\\\" data-label=\\\"LBL_SHOW_HIDDENFILES\\\" data-type=\\\"checkbox\\\"></gui-menu-entry>\\r\\n            <gui-menu-entry data-id=\\\"MenuShowExtension\\\" data-label=\\\"LBL_SHOW_FILEEXTENSIONS\\\" data-type=\\\"checkbox\\\"></gui-menu-entry>\\r\\n            <gui-menu-entry data-id=\\\"\\\" data-label=\\\"LBL_VIEWTYPE\\\">\\r\\n              <gui-menu>\\r\\n                <gui-menu-entry data-id=\\\"MenuViewList\\\" data-label=\\\"LBL_LISTVIEW\\\" data-type=\\\"radio\\\" data-group=\\\"ViewType\\\"></gui-menu-entry>\\r\\n                <gui-menu-entry data-id=\\\"MenuViewIcon\\\" data-label=\\\"LBL_ICONVIEW\\\" data-type=\\\"radio\\\" data-group=\\\"ViewType\\\"></gui-menu-entry>\\r\\n                <gui-menu-entry data-id=\\\"MenuViewTree\\\" data-label=\\\"LBL_TREEVIEW\\\" data-type=\\\"radio\\\" data-group=\\\"ViewType\\\"></gui-menu-entry>\\r\\n              </gui-menu>\\r\\n            </gui-menu-entry>\\r\\n            <gui-menu-entry data-id=\\\"\\\" data-label=\\\"LBL_SHOW_COLUMNS\\\">\\r\\n              <gui-menu>\\r\\n                <gui-menu-entry data-id=\\\"MenuColumnFilename\\\" data-label=\\\"LBL_FILENAME\\\" data-type=\\\"checkbox\\\"></gui-menu-entry>\\r\\n                <gui-menu-entry data-id=\\\"MenuColumnMIME\\\" data-label=\\\"LBL_MIME\\\" data-type=\\\"checkbox\\\"></gui-menu-entry>\\r\\n                <gui-menu-entry data-id=\\\"MenuColumnCreated\\\" data-label=\\\"LBL_CREATED\\\" data-type=\\\"checkbox\\\"></gui-menu-entry>\\r\\n                <gui-menu-entry data-id=\\\"MenuColumnModified\\\" data-label=\\\"LBL_MODIFIED\\\" data-type=\\\"checkbox\\\"></gui-menu-entry>\\r\\n                <gui-menu-entry data-id=\\\"MenuColumnSize\\\" data-label=\\\"LBL_SIZE\\\" data-type=\\\"checkbox\\\"></gui-menu-entry>\\r\\n              </gui-menu>\\r\\n            </gui-menu-entry>\\r\\n          </gui-menu>\\r\\n        </gui-menu-bar-entry>\\r\\n        <!-- CONTEXT MENU -->\\r\\n        <gui-menu-bar-entry data-id=\\\"ContextMenu\\\" data-label=\\\"LBL_CONTEXT\\\">\\r\\n            <gui-menu data-id=\\\"SubmenuContext\\\">\\r\\n              <gui-menu-entry data-id=\\\"MenuCreate\\\" data-label=\\\"LBL_CREATE\\\">\\r\\n            <gui-menu data-id=\\\"SubmenuCreate\\\">\\r\\n              <gui-menu-entry data-id=\\\"MenuCreateDirectory\\\" data-label=\\\"LBL_DIRECTORY\\\" data-func=\\\"MenuCreateDirectory\\\"></gui-menu-entry>\\r\\n              <gui-menu-entry data-id=\\\"MenuCreateFile\\\" data-label=\\\"LBL_FILE\\\" data-func=\\\"MenuCreateFile\\\"></gui-menu-entry>\\r\\n            </gui-menu>\\r\\n            </gui-menu-entry>\\r\\n            <gui-menu-entry data-id=\\\"ContextMenuUpload\\\" data-label=\\\"LBL_UPLOAD\\\" data-func=\\\"MenuUpload\\\"></gui-menu-entry>\\r\\n            <gui-menu-entry data-id=\\\"ContextMenuRename\\\" data-label=\\\"LBL_RENAME\\\" data-func=\\\"MenuRename\\\"></gui-menu-entry>\\r\\n            <gui-menu-entry data-id=\\\"ContextMenuDelete\\\" data-label=\\\"LBL_DELETE\\\" data-func=\\\"MenuDelete\\\"></gui-menu-entry>\\r\\n            <gui-menu-entry data-id=\\\"ContextMenuInfo\\\" data-label=\\\"LBL_INFORMATION\\\" data-func=\\\"MenuInfo\\\"></gui-menu-entry>\\r\\n            <gui-menu-entry data-id=\\\"ContextMenuOpen\\\" data-label=\\\"LBL_OPENWITH\\\" data-func=\\\"MenuOpen\\\"></gui-menu-entry>\\r\\n            <gui-menu-entry data-id=\\\"ContextMenuDownload\\\" data-label=\\\"LBL_DOWNLOAD_COMP\\\" data-func=\\\"MenuDownload\\\"></gui-menu-entry>\\r\\n          </gui-menu>\\r\\n        </gui-menu-bar-entry>\\r\\n    </gui-menu-bar>\\r\\n  </gui-vbox-container>\\r\\n\\r\\n    <!-- TOOLBAR -->\\r\\n    <gui-vbox-container data-grow=\\\"0\\\" data-shrink=\\\"1\\\" data-basis=\\\"auto\\\" data-id=\\\"ToolbarContainer\\\">\\r\\n      <gui-toolbar data-id=\\\"TopToolbar\\\" class=\\\"gui-flex\\\">\\r\\n\\r\\n        <gui-button data-icon=\\\"stock://16x16/actions/go-previous.png\\\" data-id=\\\"GoBack\\\"></gui-button>\\r\\n        <gui-button data-icon=\\\"stock://16x16/actions/go-next.png\\\" data-id=\\\"GoNext\\\"></gui-button>\\r\\n        <gui-button data-icon=\\\"stock://16x16/devices/drive-harddisk.png\\\" data-id=\\\"ToggleSideview\\\"></gui-button>\\r\\n        <gui-text class=\\\"gui-flex-grow\\\" data-id=\\\"GoLocation\\\" data-placeholder=\\\"location:///path\\\"></gui-text>\\r\\n\\r\\n      </gui-toolbar>\\r\\n    </gui-vbox-container>\\r\\n\\r\\n    <!-- CONTENT -->\\r\\n    <gui-vbox-container data-grow=\\\"1\\\" data-shrink=\\\"0\\\" data-basis=\\\"auto\\\" data-fill=\\\"true\\\">\\r\\n      <gui-paned-view data-id=\\\"PanedView\\\">\\r\\n        <!-- SIDE PANEL -->\\r\\n        <gui-paned-view-container data-basis=\\\"150px\\\" data-grow=\\\"0\\\" data-shrink=\\\"0\\\" data-multiple=\\\"false\\\" data-id=\\\"SideContainer\\\">\\r\\n          <gui-list-view data-id=\\\"SideView\\\" data-single-click=\\\"true\\\">\\r\\n          </gui-list-view>\\r\\n        </gui-paned-view-container>\\r\\n\\r\\n        <!-- FILE VIEW -->\\r\\n        <gui-paned-view-container data-grow=\\\"1\\\" data-shrink=\\\"1\\\">\\r\\n          <gui-file-view data-id=\\\"FileView\\\">\\r\\n          </gui-file-view>\\r\\n        </gui-paned-view-container>\\r\\n      </gui-paned-view>\\r\\n    </gui-vbox-container>\\r\\n\\r\\n\\r\\n    <!-- STATUSBAR -->\\r\\n    <gui-vbox-container data-grow=\\\"0\\\" data-shrink=\\\"1\\\" data-basis=\\\"auto\\\">\\r\\n      <gui-statusbar data-id=\\\"Statusbar\\\"></gui-statusbar>\\r\\n    </gui-vbox-container>\\r\\n  </gui-vbox>\\r\\n\\r\\n</application-window>\\r\\n\"; });\ndefine('osjs-apps-filemanager/main',[\n    './locales',\n    \"./scheme.html\"\n], function (Translations,schemeHtml) {\n    'use strict';\n    const FS = OSjs.require('utils/fs');\n    const VFS = OSjs.require('vfs/fs');\n    const FileMetadata = OSjs.require('vfs/file');\n    const Application = OSjs.require('core/application');\n    const Window = OSjs.require('core/window');\n    const Dialog = OSjs.require('core/dialog');\n    const Locales = OSjs.require('core/locales');\n    const Events = OSjs.require('utils/events');\n    const Utils = OSjs.require('utils/misc');\n    const SettingsManager = OSjs.require('core/settings-manager');\n    const MountManager = OSjs.require('core/mount-manager');\n    const GUIElement = OSjs.require('gui/element');\n    const Clipboard = OSjs.require('utils/clipboard');\n    const Keycodes = OSjs.require('utils/keycodes');\n    const Config = OSjs.require('core/config');\n    const Theme = OSjs.require('core/theme');\n    const Notification = OSjs.require('gui/notification');\n    const doTranslate = Locales.createLocalizer(Translations);\n    function getSelected(view) {\n        var selected = [];\n        (view.get('value') || []).forEach(function (sub) {\n            if (!sub.data.shortcut) {\n                selected.push(sub.data);\n            }\n        });\n        return selected;\n    }\n    function createUploadDialog(opts, cb, ref) {\n        var destination = opts.destination;\n        var upload = opts.file;\n        Dialog.create('FileUpload', {\n            dest: destination,\n            file: upload\n        }, function (ev, btn, ufile) {\n            if (btn !== 'ok' && btn !== 'complete') {\n                cb(false, false);\n            } else {\n                var file = FileMetadata.fromUpload(destination, ufile);\n                cb(false, file);\n            }\n        }, ref);\n    }\n    var notificationWasDisplayed = {};\n    class ApplicationFileManagerWindow extends Window {\n        constructor(app, metadata, path, settings) {\n            super('ApplicationFileManagerWindow', {\n                icon: metadata.icon,\n                title: metadata.name,\n                allow_drop: true,\n                width: 650,\n                height: 420,\n                translator: doTranslate\n            }, app);\n            this.wasFileDropped = false;\n            this.currentPath = path;\n            this.currentSummary = {};\n            this.viewOptions = Utils.argumentDefaults(settings || {}, {\n                ViewNavigation: true,\n                ViewSide: true\n            }, true);\n            this.history = [];\n            this.historyIndex = -1;\n            var self = this;\n            this.settingsWatch = SettingsManager.watch('VFS', function () {\n                if (self._loaded) {\n                    self.changePath();\n                }\n            });\n            this._on('drop:upload', function (ev, item) {\n                app.upload(self.currentPath, item, self);\n            });\n            this._on('drop:file', function (ev, src) {\n                if (FS.dirname(src.path) !== self.currentPath) {\n                    var dst = new FileMetadata(FS.pathJoin(self.currentPath, src.filename));\n                    self.wasFileDropped = dst;\n                    app.copy(src, dst, self);\n                }\n            });\n            this._on('keydown', function (ev, keyCode, shiftKey, ctrlKey, altKey) {\n                if (Events.keyCombination(ev, 'CTRL+V')) {\n                    var clip = Clipboard.getClipboard();\n                    if (clip && clip instanceof Array) {\n                        clip.forEach(function (c) {\n                            if (c && c instanceof FileMetadata) {\n                                var dst = new FileMetadata(FS.pathJoin(self.currentPath, c.filename));\n                                app.copy(c, dst, self);\n                            }\n                        });\n                    }\n                } else if (ev.keyCode === Keycodes.DELETE) {\n                    app.rm(getSelected(self._find('FileView')), self);\n                }\n            });\n            this._on('destroy', function () {\n                try {\n                    SettingsManager.unwatch(self.settingsWatch);\n                } catch (e) {\n                }\n            });\n        }\n        init(wm, app) {\n            const root = super.init(...arguments);\n            var self = this;\n            var view;\n            var viewType = this.viewOptions.ViewType || 'gui-list-view';\n            var viewSide = this.viewOptions.ViewSide === true;\n            var viewNav = this.viewOptions.ViewNavigation === true;\n            var vfsOptions = Utils.cloneObject(SettingsManager.get('VFS') || {});\n            var scandirOptions = vfsOptions.scandir || {};\n            var viewHidden = scandirOptions.showHiddenFiles === true;\n            var viewExtension = scandirOptions.showFileExtensions === true;\n            this._render('FileManagerWindow', schemeHtml);\n            if (Config.getConfig('Connection.Type') !== 'nw' && window.location.protocol.match(/^file/)) {\n                this._setWarning('VFS does not work when in standalone mode');\n            }\n            var menuMap = {\n                MenuClose: function () {\n                    self._close();\n                },\n                MenuCreateFile: function () {\n                    app.mkfile(self.currentPath, self);\n                },\n                MenuCreateDirectory: function () {\n                    app.mkdir(self.currentPath, self);\n                },\n                MenuUpload: function () {\n                    app.upload(self.currentPath, null, self);\n                },\n                MenuRename: function () {\n                    app.rename(getSelected(view), self);\n                },\n                MenuDelete: function () {\n                    app.rm(getSelected(view), self);\n                },\n                MenuInfo: function () {\n                    app.info(getSelected(view), self);\n                },\n                MenuOpen: function () {\n                    app.open(getSelected(view), self);\n                },\n                MenuDownload: function () {\n                    app.download(getSelected(view), self);\n                },\n                MenuRefresh: function () {\n                    self.changePath();\n                },\n                MenuViewList: function () {\n                    self.changeView('gui-list-view', true);\n                },\n                MenuViewTree: function () {\n                    self.changeView('gui-tree-view', true);\n                },\n                MenuViewIcon: function () {\n                    self.changeView('gui-icon-view', true);\n                },\n                MenuShowSidebar: function () {\n                    viewSide = self.toggleSidebar(!viewSide, true);\n                },\n                MenuShowNavigation: function () {\n                    viewNav = self.toggleNavbar(!viewNav, true);\n                },\n                MenuShowHidden: function () {\n                    viewHidden = self.toggleHidden(!viewHidden, true);\n                },\n                MenuShowExtension: function () {\n                    viewExtension = self.toggleExtension(!viewExtension, true);\n                },\n                MenuColumnFilename: function () {\n                    self.toggleColumn('filename', true);\n                },\n                MenuColumnMIME: function () {\n                    self.toggleColumn('mime', true);\n                },\n                MenuColumnCreated: function () {\n                    self.toggleColumn('ctime', true);\n                },\n                MenuColumnModified: function () {\n                    self.toggleColumn('mtime', true);\n                },\n                MenuColumnSize: function () {\n                    self.toggleColumn('size', true);\n                }\n            };\n            function menuEvent(ev) {\n                var f = ev.detail.func || ev.detail.id;\n                if (menuMap[f]) {\n                    menuMap[f]();\n                }\n            }\n            this._find('SubmenuFile').on('select', menuEvent);\n            var contextMenu = this._find('SubmenuContext').on('select', menuEvent);\n            this._find('SubmenuEdit').on('select', menuEvent);\n            var viewMenu = this._find('SubmenuView').on('select', menuEvent);\n            viewMenu.set('checked', 'MenuViewList', viewType === 'gui-list-view');\n            viewMenu.set('checked', 'MenuViewTree', viewType === 'gui-tree-view');\n            viewMenu.set('checked', 'MenuViewIcon', viewType === 'gui-icon-view');\n            viewMenu.set('checked', 'MenuShowSidebar', viewSide);\n            viewMenu.set('checked', 'MenuShowNavigation', viewNav);\n            viewMenu.set('checked', 'MenuShowHidden', viewHidden);\n            viewMenu.set('checked', 'MenuShowExtension', viewExtension);\n            this._find('GoLocation').on('enter', function (ev) {\n                self.changePath(ev.detail, null, false, true);\n            });\n            this._find('GoBack').on('click', function (ev) {\n                self.changeHistory(-1);\n            });\n            this._find('GoNext').on('click', function (ev) {\n                self.changeHistory(1);\n            });\n            var pw = this._find('PanedView');\n            this._find('ToggleSideview').on('click', function (ev) {\n                if (!pw.$element) {\n                    return;\n                }\n                var curr = pw.$element.getAttribute('data-toggled');\n                pw.$element.setAttribute('data-toggled', String(curr === 'true' ? false : true));\n            });\n            var side = this._find('SideView');\n            side.on('activate', function (ev) {\n                if (ev && ev.detail && ev.detail.entries) {\n                    var entry = ev.detail.entries[0];\n                    if (entry) {\n                        self.changePath(entry.data.root);\n                    }\n                }\n            });\n            view = this._find('FileView');\n            view.on('activate', function (ev) {\n                if (ev && ev.detail && ev.detail.entries) {\n                    self.checkActivation(ev.detail.entries);\n                }\n            });\n            view.on('select', function (ev) {\n                if (ev && ev.detail && ev.detail.entries) {\n                    self.checkSelection(ev.detail.entries);\n                }\n            });\n            view.on('contextmenu', function (ev) {\n                if (ev && ev.detail && ev.detail.entries) {\n                    self.checkSelection(ev.detail.entries);\n                }\n                contextMenu.show(ev);\n            });\n            this.renderSideView();\n            this.changeView(viewType, false);\n            this.toggleHidden(viewHidden, false);\n            this.toggleExtension(viewExtension, false);\n            this.toggleSidebar(viewSide, false);\n            this.toggleNavbar(viewNav, false);\n            this.changePath(this.currentPath);\n            this.toggleColumn();\n            return root;\n        }\n        checkSelection(files) {\n            files = files || [];\n            var scheme = this._scheme;\n            if (!scheme) {\n                return;\n            }\n            var self = this;\n            var content = '';\n            var statusbar = this._find('Statusbar');\n            var sum, label;\n            function toggleMenuItems(isFile, isDirectory, isShort) {\n                var MODE_F = !isFile || !!isDirectory;\n                var MODE_FD = !(isFile || isDirectory);\n                self._find('MenuRename').set('disabled', isShort || MODE_FD);\n                self._find('MenuDelete').set('disabled', isShort || MODE_FD);\n                self._find('MenuInfo').set('disabled', MODE_FD);\n                self._find('MenuDownload').set('disabled', MODE_F);\n                self._find('MenuOpen').set('disabled', MODE_F);\n                self._find('ContextMenuRename').set('disabled', isShort || MODE_FD);\n                self._find('ContextMenuDelete').set('disabled', isShort || MODE_FD);\n                self._find('ContextMenuInfo').set('disabled', MODE_FD);\n                self._find('ContextMenuDownload').set('disabled', MODE_F);\n                self._find('ContextMenuOpen').set('disabled', MODE_F);\n            }\n            if (files && files.length) {\n                sum = {\n                    files: 0,\n                    directories: 0,\n                    size: 0\n                };\n                files.forEach(function (f) {\n                    if (f.data.type === 'dir') {\n                        sum.directories++;\n                    } else {\n                        sum.files++;\n                        sum.size += f.data.size;\n                    }\n                });\n                var isShortcut = files.length === 1 ? files[0].data.shortcut === true : false;\n                label = 'Selected {0} files, {1} dirs, {2}';\n                content = doTranslate(label, sum.files, sum.directories, FS.humanFileSize(sum.size));\n                toggleMenuItems(sum.files, sum.directories, isShortcut);\n            } else {\n                sum = this.currentSummary;\n                if (sum) {\n                    label = 'Showing {0} files ({1} hidden), {2} dirs, {3}';\n                    content = doTranslate(label, sum.files, sum.hidden, sum.directories, FS.humanFileSize(sum.size));\n                }\n                toggleMenuItems(false, false, false);\n            }\n            statusbar.set('value', content);\n        }\n        checkActivation(files) {\n            var self = this;\n            (files || []).forEach(function (f) {\n                if (f.data.type === 'dir') {\n                    self.changePath(f.data.path);\n                    return false;\n                }\n                Application.createFromFile(new FileMetadata(f.data));\n                return true;\n            });\n        }\n        updateSideView(updateModule) {\n            if (this._destroyed || !this._scheme) {\n                return;\n            }\n            var found = null;\n            var path = this.currentPath || '/';\n            if (updateModule) {\n                this.renderSideView();\n            }\n            MountManager.getModules({ special: true }).forEach(function (m, i) {\n                if (path.match(m.option('match'))) {\n                    found = m.option('root');\n                }\n            });\n            var view = this._find('SideView');\n            view.set('selected', found, 'root');\n        }\n        renderSideView() {\n            if (this._destroyed || !this._scheme) {\n                return;\n            }\n            var sideViewItems = [];\n            MountManager.getModules({ special: true }).forEach(function (m, i) {\n                var classNames = [m.mounted() ? 'mounted' : 'unmounted'];\n                if (m.isReadOnly()) {\n                    classNames.push('readonly gui-has-emblem');\n                }\n                sideViewItems.push({\n                    value: m.options,\n                    className: classNames.join(' '),\n                    columns: [{\n                            label: m.option('title'),\n                            icon: Theme.getIcon(m.option('icon'))\n                        }],\n                    onCreated: function (nel) {\n                        if (m.isReadOnly()) {\n                            nel.style.backgroundImage = 'url(' + Theme.getIcon('emblems/emblem-readonly.png', '16x16') + ')';\n                        }\n                    }\n                });\n            });\n            var side = this._find('SideView');\n            side.clear();\n            side.add(sideViewItems);\n        }\n        onMountEvent(m, msg) {\n            if (m) {\n                if (msg === 'vfs:unmount') {\n                    if (this.currentPath.match(m.option('match'))) {\n                        this.changePath(Config.getDefaultPath());\n                    }\n                }\n                this.updateSideView(m);\n            }\n        }\n        onFileEvent(chk, isDest) {\n            if (this.currentPath === FS.dirname(chk.path) || this.currentPath === chk.path) {\n                this.changePath(null, this.wasFileDropped, false, false, !this.wasFileDroped);\n            }\n        }\n        changeHistory(dir) {\n            if (this.historyIndex !== -1) {\n                if (dir < 0) {\n                    if (this.historyIndex > 0) {\n                        this.historyIndex--;\n                    }\n                } else if (dir > 0) {\n                    if (this.historyIndex < this.history.length - 1) {\n                        this.historyIndex++;\n                    }\n                }\n                this.changePath(this.history[this.historyIndex], null, true);\n            }\n        }\n        changePath(dir, selectFile, isNav, isInput, applyScroll) {\n            if (this._destroyed || !this._scheme) {\n                return;\n            }\n            this.wasFileDropped = false;\n            dir = dir || this.currentPath;\n            var self = this;\n            var view = this._find('FileView');\n            function updateNavigation() {\n                self._find('GoLocation').set('value', dir);\n                self._find('GoBack').set('disabled', self.historyIndex <= 0);\n                self._find('GoNext').set('disabled', self.historyIndex < 0 || self.historyIndex >= self.history.length - 1);\n            }\n            function updateHistory(dir) {\n                if (!isNav) {\n                    if (self.historyIndex >= 0 && self.historyIndex < self.history.length - 1) {\n                        self.history = [];\n                    }\n                    var current = self.history[self.history.length - 1];\n                    if (current !== dir) {\n                        self.history.push(dir);\n                    }\n                    if (self.history.length > 1) {\n                        self.historyIndex = self.history.length - 1;\n                    } else {\n                        self.historyIndex = -1;\n                    }\n                }\n                if (isInput) {\n                    self.history = [dir];\n                    self.historyIndex = 0;\n                }\n                self._setTitle(dir, true);\n            }\n            this._toggleLoading(true);\n            view.chdir({\n                path: dir,\n                done: function (error, summary) {\n                    if (self._destroyed || !self._scheme) {\n                        return;\n                    }\n                    if (dir && !error) {\n                        self.currentPath = dir;\n                        self.currentSummary = summary;\n                        if (self._app) {\n                            self._app._setArgument('path', dir);\n                        }\n                        updateHistory(dir);\n                    }\n                    self._toggleLoading(false);\n                    self.checkSelection([]);\n                    self.updateSideView();\n                    if (selectFile && view) {\n                        view.set('selected', selectFile.filename, 'filename', { scroll: applyScroll });\n                    }\n                    updateNavigation();\n                }\n            });\n        }\n        changeView(viewType, set) {\n            if (this._destroyed || !this._scheme) {\n                return;\n            }\n            var view = this._find('FileView');\n            view.set('type', viewType, !!set);\n            if (set) {\n                this._app._setSetting('ViewType', viewType, true);\n            }\n        }\n        toggleSidebar(toggle, set) {\n            if (this._destroyed || !this._scheme) {\n                return null;\n            }\n            this.viewOptions.ViewSide = toggle;\n            var container = this._find('SideContainer');\n            var handle = new GUIElement(container.$element.parentNode.querySelector('gui-paned-view-handle'));\n            if (toggle) {\n                container.show();\n                handle.show();\n            } else {\n                container.hide();\n                handle.hide();\n            }\n            if (set) {\n                this._app._setSetting('ViewSide', toggle, true);\n            }\n            return toggle;\n        }\n        toggleVFSOption(opt, key, toggle, set) {\n            if (this._destroyed || !this._scheme) {\n                return null;\n            }\n            var view = this._find('FileView');\n            var vfsOptions = SettingsManager.instance('VFS');\n            var opts = { scandir: {} };\n            opts.scandir[opt] = toggle;\n            vfsOptions.set(null, opts, null, set);\n            view.set(key, toggle);\n            return toggle;\n        }\n        toggleHidden(toggle, set) {\n            if (this._destroyed || !this._scheme) {\n                return null;\n            }\n            return this.toggleVFSOption('showHiddenFiles', 'dotfiles', toggle, set);\n        }\n        toggleExtension(toggle, set) {\n            if (this._destroyed || !this._scheme) {\n                return null;\n            }\n            return this.toggleVFSOption('showFileExtensions', 'extensions', toggle, set);\n        }\n        toggleNavbar(toggle, set) {\n            if (this._destroyed || !this._scheme) {\n                return null;\n            }\n            this.viewOptions.ViewNavigation = toggle;\n            var viewNav = this._find('ToolbarContainer');\n            if (toggle) {\n                viewNav.show();\n            } else {\n                viewNav.hide();\n            }\n            if (set) {\n                this._app._setSetting('ViewNavigation', toggle, true);\n            }\n            return toggle;\n        }\n        toggleColumn(col, set) {\n            if (this._destroyed || !this._scheme) {\n                return;\n            }\n            var vfsOptions = Utils.cloneObject(SettingsManager.get('VFS') || {});\n            var scandirOptions = vfsOptions.scandir || {};\n            var viewColumns = scandirOptions.columns || [\n                'filename',\n                'mime',\n                'size'\n            ];\n            if (col) {\n                var found = viewColumns.indexOf(col);\n                if (found >= 0) {\n                    viewColumns.splice(found, 1);\n                } else {\n                    viewColumns.push(col);\n                }\n                scandirOptions.columns = viewColumns;\n                SettingsManager.set('VFS', 'scandir', scandirOptions, set);\n            }\n            var viewMenu = this._find('SubmenuView');\n            viewMenu.set('checked', 'MenuColumnFilename', viewColumns.indexOf('filename') >= 0);\n            viewMenu.set('checked', 'MenuColumnMIME', viewColumns.indexOf('mime') >= 0);\n            viewMenu.set('checked', 'MenuColumnCreated', viewColumns.indexOf('ctime') >= 0);\n            viewMenu.set('checked', 'MenuColumnModified', viewColumns.indexOf('mtime') >= 0);\n            viewMenu.set('checked', 'MenuColumnSize', viewColumns.indexOf('size') >= 0);\n        }\n    }\n    class ApplicationFileManager extends Application {\n        constructor(args, metadata) {\n            super('ApplicationFileManager', args, metadata);\n        }\n        init(settings, metadata) {\n            super.init(...arguments);\n            var self = this;\n            var path = this._getArgument('path') || Config.getDefaultPath();\n            this._on('vfs', function (msg, obj) {\n                var win = self._getMainWindow();\n                if (win) {\n                    if (msg === 'vfs:mount' || msg === 'vfs:unmount') {\n                        win.onMountEvent(obj, msg);\n                    } else {\n                        if (obj.destination) {\n                            win.onFileEvent(obj.destination, true);\n                            win.onFileEvent(obj.source);\n                        } else {\n                            win.onFileEvent(obj);\n                        }\n                    }\n                }\n            });\n            this._addWindow(new ApplicationFileManagerWindow(this, metadata, path, settings));\n        }\n        download(items) {\n            if (!items.length) {\n                return;\n            }\n            items.forEach(function (item) {\n                VFS.url(new FileMetadata(item), { download: true }).then(result => {\n                    return window.open(result);\n                }, { download: true });\n            });\n        }\n        rm(items, win) {\n            var self = this;\n            if (!items.length) {\n                return;\n            }\n            var files = [];\n            items.forEach(function (i) {\n                files.push(i.filename);\n            });\n            files = files.join(', ');\n            win._toggleDisabled(true);\n            Dialog.create('Confirm', {\n                buttons: [\n                    'yes',\n                    'no'\n                ],\n                message: Utils.format(doTranslate('Delete **{0}** ?'), files)\n            }, function (ev, button) {\n                win._toggleDisabled(false);\n                if (button !== 'ok' && button !== 'yes') {\n                    return;\n                }\n                items.forEach(function (item) {\n                    item = new FileMetadata(item);\n                    self._action('unlink', [item], function () {\n                        win.changePath(null);\n                    });\n                });\n            }, win);\n        }\n        info(items, win) {\n            if (!items.length) {\n                return;\n            }\n            items.forEach(function (item) {\n                if (item.type === 'file') {\n                    Dialog.create('FileInfo', { file: new FileMetadata(item) }, null, win);\n                }\n            });\n        }\n        open(items) {\n            if (!items.length) {\n                return;\n            }\n            items.forEach(function (item) {\n                if (item.type === 'file') {\n                    Application.createFromFile(new FileMetadata(item), { forceList: true });\n                }\n            });\n        }\n        rename(items, win) {\n            var self = this;\n            if (!items.length) {\n                return;\n            }\n            function rename(item, newName) {\n                item = new FileMetadata(item);\n                var newitem = new FileMetadata(item);\n                newitem.filename = newName;\n                newitem.path = FS.replaceFilename(item.path, newName);\n                self._action('move', [\n                    item,\n                    newitem\n                ], function (error) {\n                    if (!error) {\n                        win.changePath(null, newitem);\n                    }\n                });\n            }\n            items.forEach(function (item) {\n                var dialog = Dialog.create('Input', {\n                    message: doTranslate('Rename **{0}**', item.filename),\n                    value: item.filename\n                }, function (ev, button, result) {\n                    if (button === 'ok' && result) {\n                        rename(item, result);\n                    }\n                }, win);\n                dialog.setRange(FS.getFilenameRange(item.filename));\n            });\n        }\n        mkfile(dir, win) {\n            var self = this;\n            win._toggleDisabled(true);\n            function finished(write, item) {\n                win._toggleDisabled(false);\n                if (item) {\n                    VFS.write(item, '', {}, self).then(() => {\n                        return win.changePath(null, item);\n                    });\n                }\n            }\n            Dialog.create('Input', {\n                value: 'My new File',\n                message: doTranslate('Create a new file in **{0}**', dir)\n            }, function (ev, button, result) {\n                if (!result) {\n                    win._toggleDisabled(false);\n                    return;\n                }\n                var item = new FileMetadata(dir + '/' + result);\n                const done = (error, result) => {\n                    if (result) {\n                        win._toggleDisabled(true);\n                        Dialog.create('Confirm', {\n                            buttons: [\n                                'yes',\n                                'no'\n                            ],\n                            message: Locales._('DIALOG_FILE_OVERWRITE', item.filename)\n                        }, function (ev, button) {\n                            finished(button === 'yes' || button === 'ok', item);\n                        }, self);\n                    } else {\n                        finished(true, item);\n                    }\n                };\n                VFS.exists(item).then(done => {\n                    return done(false, result);\n                }).catch(done);\n            }, win);\n        }\n        mkdir(dir, win) {\n            var self = this;\n            win._toggleDisabled(true);\n            Dialog.create('Input', { message: doTranslate('Create a new directory in **{0}**', dir) }, function (ev, button, result) {\n                if (!result) {\n                    win._toggleDisabled(false);\n                    return;\n                }\n                var item = new FileMetadata(FS.pathJoin(dir, result));\n                self._action('mkdir', [item], function () {\n                    win._toggleDisabled(false);\n                    win.changePath(null, item);\n                });\n            }, win);\n        }\n        copy(src, dest, win) {\n            var self = this;\n            var dialog = Dialog.create('FileProgress', { message: doTranslate('Copying **{0}** to **{1}**', src.filename, dest.path) }, function () {\n            }, win);\n            win._toggleLoading(true);\n            const done = error => {\n                win._toggleLoading(false);\n                try {\n                    dialog._close();\n                } catch (e) {\n                }\n                if (error) {\n                    OSjs.error(Locales._('ERR_GENERIC_APP_FMT', self.__label), Locales._('ERR_GENERIC_APP_REQUEST'), error);\n                    return;\n                }\n            };\n            VFS.copy(src, dest, { dialog: dialog }, this._app).then(() => done(false)).catch(done);\n        }\n        upload(dest, files, win) {\n            var self = this;\n            function upload() {\n                win._toggleLoading(true);\n                function done(error, file) {\n                    win._toggleLoading(false);\n                    if (error) {\n                        OSjs.error(Locales._('ERR_GENERIC_APP_FMT', self.__label), Locales._('ERR_GENERIC_APP_REQUEST'), error);\n                    } else {\n                    }\n                }\n                if (files) {\n                    Promise.each(files, f => {\n                        return new Promise((yes, no) => {\n                            createUploadDialog({\n                                file: f,\n                                destination: dest\n                            }, function (error) {\n                                if (error) {\n                                    no(error);\n                                } else {\n                                    yes();\n                                }\n                            }, self);\n                        });\n                    }).then(res => done(null, res)).catch(done);\n                } else {\n                    createUploadDialog({ destination: dest }, done, self);\n                }\n            }\n            if (files) {\n                upload();\n            } else {\n                Dialog.create('FileUpload', { dest: dest }, function (ev, button, result) {\n                    if (result) {\n                        win.changePath(null, result);\n                    }\n                }, win);\n            }\n        }\n        showStorageNotification(type) {\n            if (notificationWasDisplayed[type]) {\n                return;\n            }\n            notificationWasDisplayed[type] = true;\n            Notification.create({\n                title: 'External Storage',\n                message: 'Using external services requires authorization. A popup-window may appear.',\n                icon: Theme.getIcon('status/dialog-information.png', '32x32')\n            });\n        }\n        _action(name, args, callback) {\n            callback = callback || function () {\n            };\n            VFS[name].apply(VFS, args.concat(null, this)).then(res => {\n                return callback(false, res);\n            }).catch(error => {\n                OSjs.error(Locales._('ERR_GENERIC_APP_FMT', this.__label), Locales._('ERR_GENERIC_APP_REQUEST'), error);\n                callback(error);\n            });\n        }\n    }\n    OSjs.Applications.ApplicationFileManager = ApplicationFileManager;\n});\ndefine('osjs-apps-filemanager', ['osjs-apps-filemanager/main'], function (main) { return main; });\n\n"]}