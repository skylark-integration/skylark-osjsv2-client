/**
 * osjs-apps-corewm - 
 * @author 
 * @version v1.0.0
 * @link 
 * @license 
 */
define(["../panelitem"],function(t){"use strict";const i=OSjs.require("utils/dom"),n=OSjs.require("utils/events");let e={};return class extends t{constructor(){super("PanelItemNotificationArea corewm-panel-right"),this.notifications={}}init(){const t=super.init(...arguments);t.setAttribute("role","toolbar");const i=Object.keys(e);return i.length&&i.forEach(t=>{this.createNotification(t,e[t])}),t}createNotification(t,o){if(this._$root&&!this.notifications[t]){const s=new class{constructor(t,i){i=i||{},this.name=t,this.opts=i,this.$container=document.createElement("li"),this.$image=i.image||i.icon?document.createElement("img"):null,this.onCreated=i.onCreated||function(){},this.onInited=i.onInited||function(){},this.onDestroy=i.onDestroy||function(){},this.onClick=i.onClick||function(){},this.onContextMenu=i.onContextMenu||function(){},this._build(t),this.onCreated()}_build(t){const i=["NotificationArea","NotificationArea_"+t];this.opts.className&&i.push(this.opts.className),this.$container.className=i.join(" "),this.$container.setAttribute("role","button"),this.$container.setAttribute("aria-label",this.opts.title),this.opts.tooltip&&(this.$container.title=this.opts.tooltip);const e=this;n.$bind(this.$container,"click",function(t){return e.onClick.apply(this,arguments),!1}),n.$bind(this.$container,"contextmenu",function(t){return e.onContextMenu.apply(this,arguments),!1}),this.$image&&(this.$image.title=this.opts.title||"",this.$image.src=this.opts.image||this.opts.icon||"about:blank",this.$container.appendChild(this.$image));const o=document.createElement("div");o.appendChild(document.createElement("div")),this.$container.appendChild(o)}init(t){t.appendChild(this.$container);try{this.onInited(this.$container,this.$image)}catch(t){console.warn("NotificationAreaItem","onInited error"),console.warn(t,t.stack)}}setIcon(t){return this.setImage(t)}setImage(t){this.$image&&(this.$image.src=t),this.opts.image=t}setTitle(t){this.$image&&(this.$image.title=t),this.opts.title=t}destroy(){this.$container&&(n.$unbind(this.$container,"click"),n.$unbind(this.$container,"mousedown"),n.$unbind(this.$container,"contextmenu")),this.onDestroy(),this.$image=i.$remove(this.$image),this.$container=i.$remove(this.$container)}}(t,o);return s.init(this._$container),this.notifications[t]=s,e[t]=o,s}return null}removeNotification(t){return!(!this._$root||!this.notifications[t])&&(this.notifications[t].destroy(),delete this.notifications[t],e[t]&&delete e[t],!0)}getNotification(t){return!(!this._$root||!this.notifications[t])&&this.notifications[t]}destroy(){for(let t in this.notifications)this.notifications.hasOwnProperty(t)&&(this.notifications[t]&&this.notifications[t].destroy(),delete this.notifications[t]);return super.destroy(...arguments)}}});
//# sourceMappingURL=../sourcemaps/panelitems/notificationarea.js.map
