{"version":3,"sources":["panelitems/appmenu.js"],"names":["define","PanelItem","a","Theme","OSjs","require","Events","Locales","WindowManager","[object Object]","settings","super","root","init","arguments","wm","instance","img","document","createElement","alt","src","getIcon","getSetting","sel","title","_","className","setAttribute","appendChild","$bind","ev","preventDefault","stopPropagation","showMenu","this","_$container","$unbind","querySelector","destroy"],"mappings":";;;;;;;AAAAA,QACI,eACA,WACD,SAAUC,EAAWC,GACpB,aACA,MAAMC,EAAQC,KAAKC,QAAQ,cACrBC,EAASF,KAAKC,QAAQ,gBACtBE,EAAUH,KAAKC,QAAQ,gBACvBG,EAAgBJ,KAAKC,QAAQ,uBACnC,qBAAsCJ,EAClCQ,YAAYC,GACRC,MAAM,mBAAoB,UAAWD,MAEzCD,OACI,MAAMG,EAAOD,MAAME,QAAQC,WACrBC,EAAKP,EAAcQ,SACnBC,EAAMC,SAASC,cAAc,OACnCF,EAAIG,IAAM,GACVH,EAAII,IAAMlB,EAAMmB,QAAQP,EAAGQ,WAAW,SAAW,kBACjD,MAAMC,EAAMN,SAASC,cAAc,MAenC,OAdAK,EAAIC,MAAQlB,EAAQmB,EAAE,oBACtBF,EAAIG,UAAY,+BAChBH,EAAII,aAAa,OAAQ,UACzBJ,EAAII,aAAa,aAAc,0BAC/BJ,EAAIK,YAAYZ,GAChBX,EAAOwB,MAAMN,EAAK,QAAS,SAAUO,GACjCA,EAAGC,iBACHD,EAAGE,kBACQzB,EAAcQ,UAErBd,EAAEgC,SAASH,KAGnBI,KAAKC,YAAYP,YAAYL,GACtBZ,EAEXH,UAII,OAHI0B,KAAKC,aACL9B,EAAO+B,QAAQF,KAAKC,YAAYE,cAAc,MAAO,SAElD3B,MAAM4B,WAAWzB","file":"../../panelitems/appmenu.js","sourcesContent":["define([\n    '../panelitem',\n    '../menu'\n], function (PanelItem, a) {\n    'use strict';\n    const Theme = OSjs.require('core/theme');\n    const Events = OSjs.require('utils/events');\n    const Locales = OSjs.require('core/locales');\n    const WindowManager = OSjs.require('core/window-manager');\n    return class PanelItemAppMenu extends PanelItem {\n        constructor(settings) {\n            super('PanelItemAppMenu', 'AppMenu', settings, {});\n        }\n        init() {\n            const root = super.init(...arguments);\n            const wm = WindowManager.instance;\n            const img = document.createElement('img');\n            img.alt = '';\n            img.src = Theme.getIcon(wm.getSetting('icon') || 'osjs-white.png');\n            const sel = document.createElement('li');\n            sel.title = Locales._('LBL_APPLICATIONS');\n            sel.className = 'corewm-panel-button-centered';\n            sel.setAttribute('role', 'button');\n            sel.setAttribute('data-label', 'OS.js Application Menu');\n            sel.appendChild(img);\n            Events.$bind(sel, 'click', function (ev) {\n                ev.preventDefault();\n                ev.stopPropagation();\n                const wm = WindowManager.instance;\n                if (wm) {\n                    a.showMenu(ev);\n                }\n            });\n            this._$container.appendChild(sel);\n            return root;\n        }\n        destroy() {\n            if (this._$container) {\n                Events.$unbind(this._$container.querySelector('li'), 'click');\n            }\n            return super.destroy(...arguments);\n        }\n    };\n});"]}