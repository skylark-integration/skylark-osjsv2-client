/**
 * osjs-apps-calculator - 
 * @author 
 * @version v1.0.0
 * @link 
 * @license 
 */
!function(t,i){var n=i.define,require=i.require,r="function"==typeof n&&n.amd,u=!r&&"undefined"!=typeof exports;if(!r&&!n){var e={};n=i.define=function(t,i,n){"function"==typeof n?(e[t]={factory:n,deps:i.map(function(i){return function(t,i){if("."!==t[0])return t;var n=i.split("/"),r=t.split("/");n.pop();for(var u=0;u<r.length;u++)"."!=r[u]&&(".."==r[u]?n.pop():n.push(r[u]));return n.join("/")}(i,t)}),resolved:!1,exports:null},require(t)):e[t]={factory:null,resolved:!0,exports:n}},require=i.require=function(t){if(!e.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var module=e[t];if(!module.resolved){var n=[];module.deps.forEach(function(t){n.push(require(t))}),module.exports=module.factory.apply(i,n)||null,module.resolved=!0}return module.exports}}if(!n)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,require){t("osjs-apps-calculator/scheme.html",[],function(){return'<application-window data-id="CalculatorWindow">\r\n\r\n  <gui-vbox>\r\n    <gui-vbox-container data-grow="0" data-shrink="1" data-basis="auto">\r\n      <gui-text data-id="Output">0</gui-text>\r\n    </gui-vbox-container>\r\n\r\n    <gui-vbox-container data-grow="1" data-shrink="0" data-basis="auto" data-fill="true">\r\n      <gui-grid>\r\n        <gui-grid-row>\r\n          <gui-grid-entry>\r\n            <gui-button data-id="ButtonX">X</gui-button>\r\n          </gui-grid-entry>\r\n          <gui-grid-entry>\r\n            <gui-button data-id="ButtonX">X</gui-button>\r\n          </gui-grid-entry>\r\n          <gui-grid-entry>\r\n            <gui-button data-id="ButtonX">X</gui-button>\r\n          </gui-grid-entry>\r\n          <gui-grid-entry>\r\n            <gui-button data-id="ButtonX">X</gui-button>\r\n          </gui-grid-entry>\r\n        </gui-grid-row>\r\n\r\n        <gui-grid-row>\r\n          <gui-grid-entry>\r\n            <gui-button data-id="ButtonX">X</gui-button>\r\n          </gui-grid-entry>\r\n          <gui-grid-entry>\r\n            <gui-button data-id="ButtonX">X</gui-button>\r\n          </gui-grid-entry>\r\n          <gui-grid-entry>\r\n            <gui-button data-id="ButtonX">X</gui-button>\r\n          </gui-grid-entry>\r\n          <gui-grid-entry>\r\n            <gui-button data-id="ButtonX">X</gui-button>\r\n          </gui-grid-entry>\r\n        </gui-grid-row>\r\n\r\n        <gui-grid-row>\r\n          <gui-grid-entry>\r\n            <gui-button data-id="ButtonX">X</gui-button>\r\n          </gui-grid-entry>\r\n          <gui-grid-entry>\r\n            <gui-button data-id="ButtonX">X</gui-button>\r\n          </gui-grid-entry>\r\n          <gui-grid-entry>\r\n            <gui-button data-id="ButtonX">X</gui-button>\r\n          </gui-grid-entry>\r\n          <gui-grid-entry>\r\n            <gui-button data-id="ButtonX">X</gui-button>\r\n          </gui-grid-entry>\r\n        </gui-grid-row>\r\n\r\n        <gui-grid-row>\r\n          <gui-grid-entry>\r\n            <gui-button data-id="ButtonX">X</gui-button>\r\n          </gui-grid-entry>\r\n          <gui-grid-entry>\r\n            <gui-button data-id="ButtonX">X</gui-button>\r\n          </gui-grid-entry>\r\n          <gui-grid-entry>\r\n            <gui-button data-id="ButtonX">X</gui-button>\r\n          </gui-grid-entry>\r\n          <gui-grid-entry>\r\n            <gui-button data-id="ButtonX">X</gui-button>\r\n          </gui-grid-entry>\r\n        </gui-grid-row>\r\n\r\n        <gui-grid-row>\r\n          <gui-grid-entry>\r\n            <gui-button data-id="ButtonX">X</gui-button>\r\n          </gui-grid-entry>\r\n          <gui-grid-entry>\r\n            <gui-button data-id="ButtonX">X</gui-button>\r\n          </gui-grid-entry>\r\n          <gui-grid-entry style="flex:2 0 auto;">\r\n            <gui-button data-id="ButtonX">X</gui-button>\r\n          </gui-grid-entry>\r\n        </gui-grid-row>\r\n      </gui-grid>\r\n\r\n    </gui-vbox-container>\r\n\r\n  </gui-vbox>\r\n\r\n</application-window>\r\n'}),t("osjs-apps-calculator/main",["./scheme.html"],function(t){const i=OSjs.require("core/window"),n=OSjs.require("core/application"),r=OSjs.require("gui/element"),u=OSjs.require("utils/dom");var e={dec:".",perc:"%",minus:"-",plus:"+",multiply:"*",divide:"/"},o={107:"plus",109:"minus",106:"multiply",111:"divide",110:"dec",188:"dec",13:"equal",47:"divide",46:"CE",45:"minus",44:"dec",43:"plus",42:"multiply",27:"CE",8:"nbs"},a={CE:"CE",AC:"AC",perc:"%",plus:"+",7:"7",8:"8",9:"9",minus:"-",4:"4",5:"5",6:"6",multiply:"x",1:"1",2:"2",3:"3",divide:"÷",0:"0",swap:"±",dec:",",equal:"="},d=[["CE","AC","perc","plus"],["7","8","9","minus"],["4","5","6","multiply"],["1","2","3","divide"],["0","dec","equal"]];class g extends i{constructor(t,i){super("ApplicationCalculatorWindow",{icon:i.icon,title:i.name,allow_resize:!1,allow_maximize:!1,width:220,height:340},t),this.total=0,this.entries=[],this.temp=""}init(i,n){const e=super.init(...arguments);var g=this;return this._render("CalculatorWindow",t),this._find("Output").on("keypress",function(t){t.stopPropagation(),t.preventDefault();var i=t.which||t.keyCode;i>95&&i<106?g.operation(i-96):i>47&&i<58?g.operation(i-48):void 0!==o[i]&&g.operation(o[i])}).set("readonly",!0).focus(),e.querySelectorAll("gui-button").forEach(function(t,i){var n=parseInt(i/4,10),e=i%4,o=d[n][e];(t=r.createInstance(t)).set("value",a[o]||""),null===o?(u.$addClass(t.$element,"noop"),t.set("disabled",!0)):t.on("click",function(){g.operation(o)})}),e}operation(t){var i=this;""===this.temp&&-1!==["plus","minus","multiply","divide"].indexOf(t)&&(this.temp=this._find("Output").get("value"));var n=function(){if(!isNaN(t)||"dec"===t)return i.temp+="dec"===t?e[t]:t,i.temp.substring(0,10);if("AC"===t)return i.entries=[],i.temp="",i.total=0,"";if("CE"===t)return i.temp="","";if("equal"===t){i.entries.push(i.temp);var n=function(){for(var t=Number(i.entries[0]),n=1;n<i.entries.length;n++){var r=Number(i.entries[n+1]),u=i.entries[n];"+"===u?t+=r:"-"===u?t-=r:"*"===u?t*=r:"/"===u&&(t/=r),n++}t<0&&(t="-"+Math.abs(t));return t}();return i.entries=[],i.temp="",n}return void 0!==e[t]&&(t=e[t]),i.entries.push(i.temp),i.entries.push(t),i.temp="",null}();null!==n&&(String(n).length||(n=String(0)),"NaN"!==n&&"Infinity"!==n&&!isNaN(n)&&isFinite(n)||(u.$addClass(this._$element,"NaN"),setTimeout(function(){u.$removeClass(i._$element,"NaN")},3e3)),this._find("Output").set("value",String(n))),this._find("Output").focus()}}OSjs.Applications.ApplicationCalculator=class extends n{constructor(t,i){super("ApplicationCalculator",t,i)}init(t,i){super.init(...arguments),this._addWindow(new g(this,i))}}}),t("osjs-apps-calculator",["osjs-apps-calculator/main"],function(t){return t})}(n),!r){var o=require("skylark-langx/skylark");u?module.exports=o:i.skylarkjs=o}}(0,this);
//# sourceMappingURL=sourcemaps/osjs-apps-calculator.js.map
