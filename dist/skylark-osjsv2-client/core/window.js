/**
 * skylark-osjsv2-client - A version of osjs-client that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-osjsv2-client/
 * @license MIT
 */
define(["../vfs/file","./window-manager","../gui/element","../gui/scheme","../helpers/event-handler","./theme","../utils/dom","../utils/gui","../utils/events","../utils/compability","../utils/keycodes","../gui/menu","./locales"],function(t,e,i,s,n,o,h,l,_,a,r,d,m){"use strict";const c=function(){let t=1,e=1e5;return function(i){return void 0!==i&&!0===i?e+=2:t+=2}}();function u(){const t=e.instance;return t?t.getWindowSpace():{top:0,left:0,width:document.body.offsetWidth,height:document.body.offsetHeight}}function p(t,i){const s=e.instance;!!s&&s.getSetting("animations")?t._animationCallback=i:i()}const w=function(){let t;return function(){return t||(t=function(){let t={};const i=e.instance;if(i){const e=i.getDefaultSetting("mediaQueries")||{};Object.keys(e).forEach(function(i){e[i]&&(t[i]=function(t,s,n){return t<=e[i]})})}return t}()),t}}();let g=0,f=[];return class{constructor(t,i,s){if(f.indexOf(t)>=0)throw new Error(m._("ERR_WIN_DUPLICATE_FMT",t));var h,l,_;i=Object.assign({},{icon:o.getIcon("apps/preferences-system-windows.png"),width:200,height:200,title:t,tag:t,auto_size:!1},i),console.group("Window::constructor()",g,arguments),this._$element=null,this._$root=null,this._$top=null,this._$winicon=null,this._$loading=null,this._$disabled=null,this._$resize=null,this._$warning=null,this._opts=i,this._app=s||null,this._destroyed=!1,this._restored=!1,this._loaded=!1,this._initialized=!1,this._disabled=!0,this._loading=!1,this._wid=g,this._icon=i.icon,this._name=t,this._title=i.title,this._tag=i.tag,this._position={x:i.x,y:i.y},this._dimension={w:i.width,h:i.height},this._children=[],this._parent=null,this._origtitle=this._title,this._lastDimension=this._dimension,this._lastPosition=this._position,this._sound=null,this._soundVolume=1,this._scheme=null,this._properties={gravity:null,allow_move:!0,allow_resize:!0,allow_minimize:!0,allow_maximize:!0,allow_close:!0,allow_windowlist:!0,allow_drop:!1,allow_iconmenu:!0,allow_ontop:!0,allow_hotkeys:!0,allow_session:!0,key_capture:!1,start_focused:!0,min_width:150,min_height:150,max_width:null,max_height:null,media_queries:w()},this._state={focused:!1,modal:!1,minimized:!1,maximized:!1,ontop:!1,onbottom:!1},this._animationCallback=null,this._queryTimer=null,this._evHandler=new n(t,["focus","blur","destroy","maximize","minimize","restore","move","moved","resize","resized","keydown","keyup","keypress","drop","drop:upload","drop:file"]),Object.keys(i).forEach(t=>{void 0!==this._properties[t]?this._properties[t]=i[t]:void 0!==this._state[t]&&"focused"!==t?this._state[t]=i[t]:-1!=="sound_volume".indexOf(t)&&(this["_"+(h=t,h.replace(/_([a-z])/g,function(t){return t[1].toUpperCase()}))]=i[t])}),((t,i)=>{if(!t.gravity&&void 0===i.x||void 0===i.y){const t=e.instance,s=t?t.getWindowPosition():{x:0,y:0};i.x=s.x,i.y=s.y}})(this._properties,this._position),l=this._properties,_=this._dimension,l.min_height&&_.h<l.min_height&&(_.h=l.min_height),l.max_width&&_.w<l.max_width&&(_.w=l.max_width),l.max_height&&_.h>l.max_height&&(_.h=l.max_height),l.max_width&&_.w>l.max_width&&(_.w=l.max_width),((t,e)=>{s&&s.__args&&s.__args.__windows__&&s.__args.__windows__.forEach(i=>{!this._restored&&i.name&&i.name===this._name&&(t.x=i.position.x,t.y=i.position.y,this._properties.allow_resize&&(e.w=i.dimension.w,e.h=i.dimension.h),console.info("RESTORED FROM SESSION",i),this._restored=!0)})})(this._position,this._dimension),((t,e,i,s)=>{const n=t.gravity;if(n&&!s)if("center"===n)e.y=window.innerHeight/2-this._dimension.h/2,e.x=window.innerWidth/2-this._dimension.w/2;else{const t=u();n.match(/^south/)?e.y=t.height-i.h:e.y=t.top,n.match(/west$/)?e.x=t.left:e.x=t.width-i.w}})(this._properties,this._position,this._dimension,this._restored),console.debug("State",this._state),console.debug("Properties",this._properties),console.debug("Position",this._position),console.debug("Dimension",this._dimension),console.groupEnd(),g++}init(t,e){if(this._initialized||this._loaded)return this._$root;this._$element=h.$create("application-window",{className:((t,e)=>{const i=["Window",h.$safeName(t)];return e&&t!==e&&i.push(h.$safeName(e)),i})(this._name,this._tag).join(" "),style:{width:this._dimension.w+"px",height:this._dimension.h+"px",top:this._position.y+"px",left:this._position.x+"px",zIndex:c(this._state.ontop)},data:{window_id:this._wid,allow_resize:this._properties.allow_resize,allow_minimize:this._properties.allow_minimize,allow_maximize:this._properties.allow_maximize,allow_close:this._properties.allow_close},aria:{role:"application",live:"polite",hidden:"false"}}),this._$root=document.createElement("application-window-content"),this._$resize=document.createElement("application-window-resize"),["nw","n","ne","e","se","s","sw","w"].forEach(t=>{let e=document.createElement("application-window-resize-handle");e.setAttribute("data-direction",t),this._$resize.appendChild(e),e=null}),this._$loading=document.createElement("application-window-loading"),this._$disabled=document.createElement("application-window-disabled"),this._$top=document.createElement("application-window-top"),this._$winicon=document.createElement("application-window-icon"),this._$winicon.setAttribute("role","button"),this._$winicon.setAttribute("aria-haspopup","true"),this._$winicon.setAttribute("aria-label","Window Menu");const i=document.createElement("application-window-title");let s;i.setAttribute("role","heading");const n=t=>{"function"==typeof this._animationCallback&&(clearTimeout(s),s=setTimeout(()=>{this._animationCallback(t),this._animationCallback=!1,s=clearTimeout(s)},10))};return _.$bind(this._$element,"transitionend",n),_.$bind(this._$element,"animationend",n),_.$bind(this._$element,"click",t=>{this._focus()},!0),_.$bind(this._$top,"mouseup",t=>{const e=t.target;e&&(e.tagName.match(/^APPLICATION\-WINDOW\-BUTTON/)?this._onWindowButtonClick(t,e,e.getAttribute("data-action")):"APPLICATION-WINDOW-ICON"===e.tagName&&this._onWindowIconClick(t))}),_.$bind(this._$top,"dblclick",()=>{this._maximize()}),((t,e,i)=>{if(t.allow_drop&&i.dnd){document.createElement("div").className="WindowDropRect",l.createDroppable(e,{onOver:(t,i,s)=>{e.setAttribute("data-dnd-state","true")},onLeave:()=>{e.setAttribute("data-dnd-state","false")},onDrop:()=>{e.setAttribute("data-dnd-state","false")},onItemDropped:(t,i,s,n)=>(e.setAttribute("data-dnd-state","false"),this._onDndEvent(t,"itemDrop",s,n,i)),onFilesDropped:(t,i,s,n)=>(e.setAttribute("data-dnd-state","false"),this._onDndEvent(t,"filesDrop",s,n,i))})}})(this._properties,this._$element,a.getCompability()),i.appendChild(document.createTextNode(this._title)),this._$top.appendChild(this._$winicon),this._$top.appendChild(i),this._$top.appendChild(h.$create("application-window-button-minimize",{className:"application-window-button-entry",data:{action:"minimize"},aria:{role:"button",label:"Minimize Window"}})),this._$top.appendChild(h.$create("application-window-button-maximize",{className:"application-window-button-entry",data:{action:"maximize"},aria:{role:"button",label:"Maximize Window"}})),this._$top.appendChild(h.$create("application-window-button-close",{className:"application-window-button-entry",data:{action:"close"},aria:{role:"button",label:"Close Window"}})),this._$loading.appendChild(document.createElement("application-window-loading-indicator")),this._$element.appendChild(this._$top),this._$element.appendChild(this._$root),this._$element.appendChild(this._$resize),this._$element.appendChild(this._$disabled),this._$element.appendChild(this._$loading),document.body.appendChild(this._$element),this._onChange("create"),this._toggleLoading(!1),this._toggleDisabled(!1),this._setIcon(o.getIcon(this._icon)),this._updateMarkup(),this._sound&&o.playSound(this._sound,this._soundVolume),this._initialized=!0,this._emit("init",[this._$root]),this._$root}_inited(){if(this._loaded)return;if(this._loaded=!0,this._onResize(),!this._restored)if(this._state.maximized)this._maximize(!0);else if(this._state.minimized)this._minimize(!0);else if(this._opts.auto_size){let t=0,e=0;const i=s=>{s.children.forEach(s=>{t=Math.max(t,s.offsetWidth),e=Math.max(e,s.offsetHeight),s.children.length&&i(s)})};i(this._$root),this._resize(t,e,!0)}let t=setTimeout(()=>{this._emit("inited",[]),t=clearTimeout(t)},10);this._app&&this._app._emit("initedWindow",[this]),console.debug("Window::_inited()",this._name)}destroy(t){if(this._destroyed)return!1;this._emit("destroy"),this._destroyed=!0;const i=e.instance;console.group("Window::destroy()");const s=()=>{this._setWarning(null),this._$root=null,this._$top=null,this._$winicon=null,this._$loading=null,this._$disabled=null,this._$resize=null,this._$warning=null,this._$element=h.$remove(this._$element)};return this._onChange("close"),(t=>{if(this._$element)if(i&&i.getSetting("animations")){this._$element.setAttribute("data-closing","true"),this._animationCallback=t;let e=setTimeout(()=>{this._animationCallback&&this._animationCallback(),e=clearTimeout(e)},1e3)}else this._$element.style.display="none",t()})(()=>{s()}),(()=>{this._$element&&this._$element.querySelectorAll("*").forEach(t=>{t&&_.$unbind(t)}),this._parent&&this._parent._removeChild(this),this._parent=null,this._removeChildren()})(),(()=>{i&&i.removeWindow(this);const t=i?i.getCurrentWindow():null;t&&t._wid===this._wid&&i.setCurrentWindow(null);const e=i?i.getLastWindow():null;e&&e._wid===this._wid&&i.setLastWindow(null)})(),this._app&&this._app._onMessage("destroyWindow",this,{}),this._evHandler&&this._evHandler.destroy(),this._app=null,this._evHandler=null,this._args={},this._queryTimer=clearTimeout(this._queryTimer),this._scheme=this._scheme?this._scheme.destroy():null,console.groupEnd(),!0}_find(t,e){const i='[data-id="'+t+'"]';return this._findByQuery(i,e)}_render(t,e,i,n){return e&&(i=i||this._getRoot(),n=n||{},"function"==typeof this._opts.translator&&(n.undefined=this._opts.translator),this._scheme="string"==typeof e?s.fromString(e):e),this._scheme instanceof s?this._scheme.render(this,t,i,null,null,n):console.warn("Got an invalid scheme in window render()",this._scheme),this._scheme}_findDOM(t,e){const i='[data-id="'+t+'"]';return(e=e||this._getRoot()).querySelector(i)}_create(t,e,s,n){return s=s||this._getRoot(),i.createInto(t,e,s,n,this)}_findByQuery(t,e,s){if(!((e=e||this._getRoot())instanceof window.Node))return s?[]:null;if(s)return e.querySelectorAll(t).map(e=>i.createFromNode(e,t));const n=e.querySelector(t);return i.createFromNode(n,t)}_emit(t,e){return!(this._destroyed||!this._evHandler)&&this._evHandler.emit(t,e)}_on(t,e){return!!this._evHandler&&this._evHandler.on(t,e,this)}_off(t,e){return!!this._evHandler&&this._evHandler.off(t,e)}_addChild(t,i,s){console.debug("Window::_addChild()"),t._parent=this;const n=e.instance;return i&&n&&n.addWindow(t,s),this._children.push(t),t}_removeChild(t){let e=!1;return this._children.forEach((i,s)=>{i&&i._wid===t._wid&&(console.debug("Window::_removeChild()"),i.destroy(),this._children[s]=null,e=!0)}),e}_getChild(t,e){e=e||"wid";const i=this._getChildren().filter(i=>i["_"+e]===t);return"tag"===e?i:i[0]}_getChildById(t){return this._getChild(t,"wid")}_getChildByName(t){return this._getChild(t,"name")}_getChildrenByTag(t){return this._getChild(t,"tag")}_getChildren(){return this._children.filter(t=>!!t)}_removeChildren(){this._children.forEach((t,e)=>{t&&t.destroy()}),this._children=[]}_close(){return!this._disabled&&!this._destroyed&&(console.debug("Window::_close()"),this._blur(),this.destroy(),!0)}_minimize(t){if(!this._properties.allow_minimize||this._destroyed)return!1;if(!t&&this._state.minimized)return this._restore(!1,!0),!0;console.debug(this._name,">","Window::_minimize()"),this._blur(),this._state.minimized=!0,this._$element.setAttribute("data-minimized","true"),p(this,()=>{this._$element.style.display="none",this._emit("minimize")}),this._onChange("minimize");const i=e.instance,s=i?i.getCurrentWindow():null;return s&&s._wid===this._wid&&i.setCurrentWindow(null),this._updateMarkup(),!0}_maximize(t){if(!this._properties.allow_maximize||this._destroyed||!this._$element)return!1;if(!t&&this._state.maximized)return this._restore(!0,!1),!0;console.debug(this._name,">","Window::_maximize()"),this._lastPosition={x:this._position.x,y:this._position.y},this._lastDimension={w:this._dimension.w,h:this._dimension.h},this._state.maximized=!0;const e=this._getMaximizedSize();return this._$element.style.zIndex=c(this._state.ontop),this._$element.style.top=e.top+"px",this._$element.style.left=e.left+"px",this._$element.style.width=e.width+"px",this._$element.style.height=e.height+"px",this._$element.setAttribute("data-maximized","true"),this._dimension.w=e.width,this._dimension.h=e.height,this._position.x=e.left,this._position.y=e.top,this._focus(),p(this,()=>{this._emit("maximize")}),this._onChange("maximize"),this._onResize(),this._updateMarkup(),!0}_restore(t,e){if(!this._$element||this._destroyed)return;console.debug(this._name,">","Window::_restore()"),t=void 0===t||!0===t,e=void 0===e||!0===e,(()=>{t&&this._state.maximized&&(this._move(this._lastPosition.x,this._lastPosition.y),this._resize(this._lastDimension.w,this._lastDimension.h),this._state.maximized=!1,this._$element.setAttribute("data-maximized","false"))})(),(()=>{e&&this._state.minimized&&(this._$element.style.display="block",this._$element.setAttribute("data-minimized","false"),this._state.minimized=!1)})(),p(this,()=>{this._emit("restore")}),this._onChange("restore"),this._onResize(),this._focus(),this._updateMarkup()}_focus(t){if(!this._$element||this._destroyed)return!1;this._toggleAttentionBlink(!1),this._$element.style.zIndex=c(this._state.ontop),this._$element.setAttribute("data-focused","true");const i=e.instance,s=i?i.getCurrentWindow():null;return s&&s._wid!==this._wid&&s._blur(),i&&(i.setCurrentWindow(this),i.setLastWindow(this)),this._state.focused&&!t||(this._onChange("focus"),this._emit("focus")),this._state.focused=!0,this._updateMarkup(),!0}_blur(t){if(!this._$element||this._destroyed||!t&&!this._state.focused)return!1;this._$element.setAttribute("data-focused","false"),this._state.focused=!1,this._onChange("blur"),this._emit("blur"),this._blurGUI();const i=e.instance,s=i?i.getCurrentWindow():null;return s&&s._wid===this._wid&&i.setCurrentWindow(null),this._updateMarkup(),!0}_blurGUI(){this._$root.querySelectorAll("input, textarea, select, iframe, button").forEach(t=>{t.blur()})}_resizeTo(t,i,s,n,o,l){if(!this._$element||t<=0||i<=0)return;s=void 0===s||!0===s;let _=0,a=0;if(o){const t=h.$position(o,this._$root);_=parseInt(t.left,10),a=parseInt(t.top,10)}const r=this._getMaximizedSize(),d=this._position.x+_,m=this._position.y+a;let c=t,u=i,p=null,w=null;s&&(()=>{d+c>r.width?n?(c=r.width,p=r.left):c=r.width-d+_:c+=_,m+u>r.height?n?(u=r.height,w=r.top):u=r.height-m+this._$top.offsetHeight+a:u+=a})(),this._resize(c,u,l),(()=>{null!==p&&this._move(p,this._position.y),null!==w&&this._move(this._position.x,w)})(),(()=>{const t=e.instance;t&&t.getSetting("animations")?this._animationCallback=(()=>{this._emit("resized")}):this._emit("resized")})()}_resize(t,e,i){const s=this._properties;if(!this._$element||this._destroyed||!i&&!s.allow_resize)return!1;const n=(t,e,i)=>(!isNaN(t)&&t&&(t=Math.max(t,e),null!==i&&(t=Math.min(t,i))),t);return t=i?t:n(t,s.min_width,s.max_width),!isNaN(t)&&t&&(this._$element.style.width=t+"px",this._dimension.w=t),e=i?e:n(e,s.min_height,s.max_height),!isNaN(e)&&e&&(this._$element.style.height=e+"px",this._dimension.h=e),this._onResize(),!0}_moveTo(t){const i=e.instance;if(!i)return;const s=i.getWindowSpace(),n=this._position.x,o=this._position.y;"left"===t?this._move(s.left,o):"right"===t?this._move(s.width-this._dimension.w,o):"top"===t?this._move(n,s.top):"bottom"===t&&this._move(n,s.height-this._dimension.h)}_move(t,e){return!(!this._$element||this._destroyed||!this._properties.allow_move)&&(void 0!==t&&void 0!==e&&(this._$element.style.top=e+"px",this._$element.style.left=t+"px",this._position.x=t,this._position.y=e,!0))}_toggleDisabled(t){this._$disabled&&(this._$disabled.style.display=t?"block":"none"),this._disabled=!!t,this._updateMarkup()}_toggleLoading(t){this._$loading&&(this._$loading.style.display=t?"block":"none"),this._loading=!!t,this._updateMarkup()}_updateMarkup(t){if(!this._$element)return;const e=this._loading||this._disabled,i=this._disabled,s=this._state.minimized,n=!this._state.focused;if(this._$element.setAttribute("aria-busy",String(e)),this._$element.setAttribute("aria-hidden",String(s)),this._$element.setAttribute("aria-disabled",String(i)),this._$root.setAttribute("aria-hidden",String(n)),!t)return;const o=!0===this._properties.allow_maximize?"inline-block":"none",h=!0===this._properties.allow_minimize?"inline-block":"none",l=!0===this._properties.allow_close?"inline-block":"none";this._$top.querySelector("application-window-button-maximize").style.display=o,this._$top.querySelector("application-window-button-minimize").style.display=h,this._$top.querySelector("application-window-button-close").style.display=l;const _=!0===this._properties.allow_resize;this._$element.setAttribute("data-allow-resize",String(_))}_toggleAttentionBlink(t){if(!this._$element||this._destroyed||this._state.focused)return!1;const e=this._$element;return(t=>{e&&(t?h.$addClass(e,"WindowAttentionBlink"):h.$removeClass(e,"WindowAttentionBlink")),this._onChange(t?"attention_on":"attention_off")})(t),!0}_nextTabIndex(t){const e=l.getNextElement(t.shiftKey,document.activeElement,this._$root);if(e)if(h.$hasClass(e,"gui-data-view"))i.createFromNode(e).focus();else try{e.focus()}catch(t){}}_onDndEvent(e,i,s,n,o){return!this._disabled&&!this._destroyed&&(console.debug("Window::_onDndEvent()",i,s,n),this._emit("drop",[e,i,s,n,o]),s&&("filesDrop"===i?this._emit("drop:upload",[e,s,n,o]):"itemDrop"===i&&"file"===s.type&&s.data&&this._emit("drop:file",[e,new t(s.data||{}),n,o])),!0)}_onKeyEvent(t,e){return!(this._destroyed||!this._state.focused)&&("keydown"===e&&t.keyCode===r.TAB&&this._nextTabIndex(t),this._emit(e,[t,t.keyCode,t.shiftKey,t.ctrlKey,t.altKey]),!0)}_onResize(){clearTimeout(this._queryTimer),this._queryTimer=setTimeout(()=>{!function(t){const i=e.instance;if(!t._$element||!i)return;let s,n="";const o=t._properties.media_queries||{},h=t._$element.offsetWidth,l=t._$element.offsetHeight;for(s in o)if(o.hasOwnProperty(s)&&o[s](h,l,t)){n=s;break}t._$element.setAttribute("data-media",n)}(this),this._queryTimer=clearTimeout(this._queryTimer)},20)}_onWindowIconClick(t){if(!this._properties.allow_iconmenu||this._destroyed)return;console.debug(this._name,">","Window::_onWindowIconClick()");const e=[];[[this._properties.allow_minimize,()=>({title:m._("WINDOW_MINIMIZE"),icon:o.getIcon("actions/go-up.png"),onClick:(t,e)=>{this._minimize()}})],[this._properties.allow_maximize,()=>({title:m._("WINDOW_MAXIMIZE"),icon:o.getIcon("actions/view-fullscreen.png"),onClick:(t,e)=>{this._maximize(),this._focus()}})],[this._state.maximized,()=>({title:m._("WINDOW_RESTORE"),icon:o.getIcon("actions/view-restore.png"),onClick:(t,e)=>{this._restore(),this._focus()}})],[this._properties.allow_ontop,()=>this._state.ontop?{title:m._("WINDOW_ONTOP_OFF"),icon:o.getIcon("actions/window-new.png"),onClick:(t,e)=>{this._state.ontop=!1,this._$element&&(this._$element.style.zIndex=c(!1)),this._focus()}}:{title:m._("WINDOW_ONTOP_ON"),icon:o.getIcon("actions/window-new.png"),onClick:(t,e)=>{this._state.ontop=!0,this._$element&&(this._$element.style.zIndex=c(!0)),this._focus()}}],[this._properties.allow_close,()=>({title:m._("WINDOW_CLOSE"),icon:o.getIcon("actions/window-close.png"),onClick:(t,e)=>{this._close()}})]].forEach(t=>{t[0]&&e.push(t[1]())}),this._focus(),d.create(e,t)}_onWindowButtonClick(t,e,i){const s={close:this._close,minimize:this._minimize,maximize:this._maximize};if(s[i]){try{this._blurGUI()}catch(t){}s[i].call(this)}}_onChange(t,i){if(t=t||""){const i=e.instance;i&&i.eventWindow(t,this)}}_getMaximizedSize(){const t=u();if(!this._$element||this._destroyed)return t;let e=23,i=0;const s=o.getStyleTheme(!0,!0);return s&&s.style&&s.style.window&&(e=s.style.window.margin,i=s.style.window.border),t.left+=i,t.top+=i,t.width-=2*i,t.height-=e+2*i,Object.freeze(t)}_getViewRect(){return this._$element?Object.freeze(h.$position(this._$element)):null}_getRoot(){return this._$root}_getZindex(){return this._$element?parseInt(this._$element.style.zIndex,10):-1}_getTitle(){return this._title}_setTitle(t,e,i){if(!this._$element||this._destroyed)return;i=i||"-";const s=this._$element.getElementsByTagName("application-window-title")[0];let n=[];n=e?[this._origtitle,i,t]:[t||this._origtitle],this._title=n.join(" ")||this._origtitle,s&&(h.$empty(s),s.appendChild(document.createTextNode(this._title))),this._onChange("title"),this._updateMarkup()}_setIcon(t){this._$winicon&&(this._$winicon.title=this._title,this._$winicon.style.backgroundImage="url("+t+")"),this._icon=t,this._onChange("icon")}_setWarning(t){if(this._$warning=h.$remove(this._$warning),this._destroyed||null===t)return;t=t||"";let e=document.createElement("application-window-warning"),i=document.createElement("div");i.innerHTML="X",_.$bind(i,"click",()=>{this._setWarning(null)});let s=document.createElement("div");s.appendChild(document.createTextNode(t)),e.appendChild(i),e.appendChild(s),this._$warning=e,this._$root.appendChild(this._$warning)}_setProperty(t,e){""!==e&&null!==e&&this._$element&&void 0!==this._properties[t]&&(this._properties[t]="true"===String(e),this._updateMarkup(!0))}}});
//# sourceMappingURL=../sourcemaps/core/window.js.map
