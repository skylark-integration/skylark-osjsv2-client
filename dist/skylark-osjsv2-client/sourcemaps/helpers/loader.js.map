{"version":3,"sources":["helpers/loader.js"],"names":["define","[object Object]","this","loaders","loaderGraze","$container","document","createElement","name","opts","parentNode","body","appendChild","el","title","icon","img","src","setTimeout","style","display","clearTimeout","remove"],"mappings":";;;;;;;AAAAA,OAAO,WACH,aAsCA,OAAO,UApCHC,cACIC,KAAKC,WACLD,KAAKE,eACLF,KAAKG,WAAaC,SAASC,cAAc,gBAE7CN,OAAOO,EAAMC,GAKT,GAJAA,EAAOA,MACFP,KAAKG,WAAWK,YACjBJ,SAASK,KAAKC,YAAYV,KAAKG,YAE/BH,KAAKC,QAAQK,GACb,OAEJ,MAAMK,EAAKP,SAASC,cAAc,gBAElC,GADAM,EAAGC,MAAQL,EAAKK,OAAS,GACrBL,EAAKM,KAAM,CACX,MAAMC,EAAMV,SAASC,cAAc,OACnCS,EAAIC,IAAMR,EAAKM,KACfF,EAAGD,YAAYI,GAEnBd,KAAKG,WAAWO,YAAYC,GAC5BX,KAAKE,YAAYI,GAAQU,WAAW,KAChCL,EAAGM,MAAMC,QAAU,gBACpB,KACHlB,KAAKC,QAAQK,GAAQK,EAEzBZ,QAAQO,GACCN,KAAKC,QAAQK,KAGlBa,aAAanB,KAAKE,YAAYI,IAC9BN,KAAKC,QAAQK,GAAMc,gBACZpB,KAAKC,QAAQK,UACbN,KAAKE,YAAYI","file":"../../helpers/loader.js","sourcesContent":["define(function () {\n    'use strict';\n    class Loader {\n        constructor() {\n            this.loaders = {};\n            this.loaderGraze = {};\n            this.$container = document.createElement('osjs-loaders');\n        }\n        create(name, opts) {\n            opts = opts || {};\n            if (!this.$container.parentNode) {\n                document.body.appendChild(this.$container);\n            }\n            if (this.loaders[name]) {\n                return;\n            }\n            const el = document.createElement('osjs-loading');\n            el.title = opts.title || '';\n            if (opts.icon) {\n                const img = document.createElement('img');\n                img.src = opts.icon;\n                el.appendChild(img);\n            }\n            this.$container.appendChild(el);\n            this.loaderGraze[name] = setTimeout(() => {\n                el.style.display = 'inline-block';\n            }, 100);\n            this.loaders[name] = el;\n        }\n        destroy(name) {\n            if (!this.loaders[name]) {\n                return;\n            }\n            clearTimeout(this.loaderGraze[name]);\n            this.loaders[name].remove();\n            delete this.loaders[name];\n            delete this.loaderGraze[name];\n        }\n    }\n    return new Loader();\n});"]}