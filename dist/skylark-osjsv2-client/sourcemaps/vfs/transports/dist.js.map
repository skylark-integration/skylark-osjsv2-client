{"version":3,"sources":["vfs/transports/dist.js"],"names":["define","OSjsTransport","MountManager","Config","Locales","[object Object]","method","args","options","indexOf","Promise","reject","Error","_","super","request","arguments","item","root","getBrowserPath","module","getModuleFromPath","path","url","replace","option","resolve"],"mappings":";;;;;;;AAAAA,QACI,SACA,2BACA,oBACA,sBACD,SAAWC,EAAeC,EAAcC,EAAQC,GAC/C,aACA,qBAAmCH,EAC/BI,QAAQC,EAAQC,EAAMC,GAClB,OAI2B,KAHnB,MACA,UACA,QACFC,QAAQH,GACHI,QAAQC,OAAO,IAAIC,MAAMR,EAAQS,EAAE,yBAEvCC,MAAMC,WAAWC,WAE5BX,IAAIY,GACA,MAAMC,EAAOf,EAAOgB,iBACdC,OAASlB,EAAamB,kBAAkBJ,EAAKK,MAC7CC,EAAMN,EAAKK,KAAKE,QAAQJ,OAAOK,OAAO,SAAUP,GAAMM,QAAQ,OAAQ,KAC5E,OAAOd,QAAQgB,QAAQH","file":"../../../vfs/transports/dist.js","sourcesContent":["define([\n    './osjs',\n    '../../core/mount-manager',\n    '../../core/config',\n    '../../core/locales'\n], function ( OSjsTransport, MountManager, Config, Locales) {\n    'use strict';\n    return class DistTransport extends OSjsTransport {\n        request(method, args, options) {\n            if ([\n                    'url',\n                    'scandir',\n                    'read'\n                ].indexOf(method) === -1) {\n                return Promise.reject(new Error(Locales._('ERR_VFS_UNAVAILABLE')));\n            }\n            return super.request(...arguments);\n        }\n        url(item) {\n            const root = Config.getBrowserPath();\n            const module = MountManager.getModuleFromPath(item.path);\n            const url = item.path.replace(module.option('match'), root).replace(/^\\/+/, '/');\n            return Promise.resolve(url);\n        }\n    };\n});"]}