{"version":3,"sources":["gui/splash.js"],"names":["define","[object Object]","this","$el","document","getElementById","$progress","querySelector","config","Watermark","enabled","ver","Version","html","lines","el","createElement","setAttribute","innerHTML","join","replace","body","appendChild","style","display","p","c","per","width","String"],"mappings":";;;;;;;AAAAA,OAAO,WACH,aAoCA,OAAO,UAlCHC,cACIC,KAAKC,IAAMC,SAASC,eAAe,iBACnCH,KAAKI,UAAYJ,KAAKC,IAAMD,KAAKC,IAAII,cAAc,aAAe,KAEtEN,UAAUO,GACN,GAAIA,EAAOC,UAAUC,QAAS,CAC1B,IAAIC,EAAMH,EAAOI,SAAW,kBACxBC,EAAOL,EAAOC,UAAUK,UACxBC,EAAKX,SAASY,cAAc,kBAChCD,EAAGE,aAAa,cAAe,QAC/BF,EAAGG,UAAYL,EAAKM,KAAK,UAAUC,QAAQ,YAAaT,GACxDP,SAASiB,KAAKC,YAAYP,IAGlCd,OACQC,KAAKC,MACLD,KAAKC,IAAIoB,MAAMC,QAAU,SAGjCvB,OACQC,KAAKC,MACLD,KAAKC,IAAIoB,MAAMC,QAAU,QAGjCvB,OAAOwB,EAAGC,GACN,GAAIxB,KAAKI,UAAW,CAChB,IAAIqB,EAAMD,EAAI,EAAI,IACdA,IACAC,EAAMF,EAAIC,EAAI,KAElBxB,KAAKI,UAAUiB,MAAMK,MAAQC,OAAOF,GAAO","file":"../../gui/splash.js","sourcesContent":["define(function () {\n    'use strict';\n    class SplashScreen {\n        constructor() {\n            this.$el = document.getElementById('LoadingScreen');\n            this.$progress = this.$el ? this.$el.querySelector('.progress') : null;\n        }\n        watermark(config) {\n            if (config.Watermark.enabled) {\n                var ver = config.Version || 'unknown version';\n                var html = config.Watermark.lines || [];\n                var el = document.createElement('osjs-watermark');\n                el.setAttribute('aria-hidden', 'true');\n                el.innerHTML = html.join('<br />').replace(/%VERSION%/, ver);\n                document.body.appendChild(el);\n            }\n        }\n        show() {\n            if (this.$el) {\n                this.$el.style.display = 'block';\n            }\n        }\n        hide() {\n            if (this.$el) {\n                this.$el.style.display = 'none';\n            }\n        }\n        update(p, c) {\n            if (this.$progress) {\n                let per = c ? 0 : 100;\n                if (c) {\n                    per = p / c * 100;\n                }\n                this.$progress.style.width = String(per) + '%';\n            }\n        }\n    }\n    return new SplashScreen();\n});"]}