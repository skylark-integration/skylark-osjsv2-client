{"version":3,"sources":["core/auth/demo.js"],"names":["define","Authenticator","[object Object]","key","settings","i","localStorage","length","match","replace","JSON","parse","getItem","e","console","warn","stack","login","Promise","resolve","reject","super","then","result","userSettings","this","_getSettings","catch","requestLogin","username","password"],"mappings":";;;;;;;AAAAA,QACI,oBACD,SAAUC,GACT,aACA,qBAAuCA,EACnCC,eACI,IACIC,EADAC,KAEJ,IAAK,IAAIC,EAAI,EAAGA,EAAIC,aAAaC,OAAQF,IAErC,IADAF,EAAMG,aAAaH,IAAIE,IACfG,MAAM,WACV,IACIJ,EAASD,EAAIM,QAAQ,UAAW,KAAOC,KAAKC,MAAML,aAAaM,QAAQT,IACzE,MAAOU,GACLC,QAAQC,KAAK,6BAA8BF,EAAGA,EAAEG,OAI5D,OAAOZ,EAEXF,MAAMe,GACF,OAAO,IAAIC,QAAQ,CAACC,EAASC,KACzBC,MAAMJ,MAAMA,GAAOK,KAAKC,IACpBA,EAAOC,aAAeC,KAAKC,eACpBP,EAAQI,KAChBI,MAAMP,KAGjBlB,WACI,OAAOuB,KAAKG,cACRC,SAAU,OACVC,SAAU","file":"../../../core/auth/demo.js","sourcesContent":["define([\n    '../authenticator'\n], function (Authenticator) {\n    'use strict';\n    return class DemoAuthenticator extends Authenticator {\n        _getSettings() {\n            let settings = {};\n            let key;\n            for (let i = 0; i < localStorage.length; i++) {\n                key = localStorage.key(i);\n                if (key.match(/^OSjs\\//)) {\n                    try {\n                        settings[key.replace(/^OSjs\\//, '')] = JSON.parse(localStorage.getItem(key));\n                    } catch (e) {\n                        console.warn('DemoAuthenticator::login()', e, e.stack);\n                    }\n                }\n            }\n            return settings;\n        }\n        login(login) {\n            return new Promise((resolve, reject) => {\n                super.login(login).then(result => {\n                    result.userSettings = this._getSettings();\n                    return resolve(result);\n                }).catch(reject);\n            });\n        }\n        createUI() {\n            return this.requestLogin({\n                username: 'demo',\n                password: 'demo'\n            });\n        }\n    };\n});"]}